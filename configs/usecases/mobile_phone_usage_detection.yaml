metadata:
  id: mobile_phone_usage_detection
  description: Detect loco pilots using mobile phones while on duty
  severity: high
  frequency: real-time + post
  domains: ["Loco"]
detector: pose_velocity
tracker: bytetrack
interval: 3
rules:
  - type: pose_phone_usage
    min_score: 0.6
    min_speed_kmph: 0
    min_dwell_frames: 6
    cooldown_seconds: 5
notifications:
  mqtt_topic: "{{MQTT_BROKER_URL}}/loco/mobile_phone"
  clip:
    pre_seconds: 4
    post_seconds: 8
artifacts:
  snapshot: true
  clip: true
  attributes:
    - confidence
    - duration
